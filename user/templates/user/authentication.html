{% extends 'base.html'%}
{% load static %}

{% block content %}
    <div class="form-structor">
	<div class="signup">
		<h2 class="form-title" id="signup"><span></span>Sign up</h2>
		<div class="form-holder">
                <form method="post" action="{% url 'authentication' %}">
                {% csrf_token %}
                {{ register_form.username }}
                {{ register_form.email }}
                {{ register_form.password }}

		<button class="submit-btn" type="submit" name='submit' value='sign_up'>Sign up</button>
        </form>
        </div>
		</div>

	</div>
	<div class="login slide-up">
		<div class="center">
			<h2 class="form-title" id="login"><span>or</span>Log in</h2>

            <div class="error">{{ form.non_field_errors }}</div>
            <form method="post" action="{% url 'authentication' %}">
			<div class="form-holder">
                {% csrf_token %}
                {{ login_form.username }}
                {{ login_form.password }}
            {% for field in form %}
            <div class="error">{{ field.errors }}</div>
            {% endfor %}
			<button class="submit-btn" type="submit" name='submit' value='sign_in'>Log in</button>
            </div>
            </form>
            </div>
            </div>
        </div>
		</div>
	</div>
    </div>
<script>
    console.clear();

const loginBtn = document.getElementById('login');
const signupBtn = document.getElementById('signup');

loginBtn.addEventListener('click', (e) => {
	let parent = e.target.parentNode.parentNode;
	Array.from(e.target.parentNode.parentNode.classList).find((element) => {
		if(element !== "slide-up") {
			parent.classList.add('slide-up')
		}else{
			signupBtn.parentNode.classList.add('slide-up')
			parent.classList.remove('slide-up')
		}
	});
});

signupBtn.addEventListener('click', (e) => {
	let parent = e.target.parentNode;
	Array.from(e.target.parentNode.classList).find((element) => {
		if(element !== "slide-up") {
			parent.classList.add('slide-up')
		}else{
			loginBtn.parentNode.parentNode.classList.add('slide-up')
			parent.classList.remove('slide-up')
		}
	});
});
</script>

{% endblock %}
